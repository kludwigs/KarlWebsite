<div class="adminpage">

<h1> File Editor </h1>
<!--
<input type="text" id="filename" ng-options="x for x in names" ng-model="adminFilename"><br>
 <div class="container-fluid" ng-controller="adminCtrl">
-->


 <div class="container-fluid">
    <div class="row">
	        <div class="col-md-12 col-xs-12">
			<select ng-model="adminFilename" ng-options="x for x in filenames"></select><br>
			<textarea class="form-control" id="html_content" style="height:400" width="100%"></textarea>
			<button id="save" ng-click="adminSave(adminFilename)">Save</button>
			<!--
			<button id="load" ng-click="adminLoad()">load</button>
			ng-model="fileContents">
			-->
			</div>		
	</div>
	<h2>Site Content</h2>
      <select ng-model="site_content_select" 
        ng-options="content.key for content in site_content">
      </select>
	  <textarea class="form-control" ng-model="site_content_edit_text_field" style="height:300" width="100%"></textarea>
	  <button id="save" ng-click="saveContentChanges(site_content_select.key, site_content_edit_text_field)">Save</button>
	<h2>Entries</h2>
	<!--
	<button id="JumpToBottomButton" ng-click="goToBottom()">Jump To Bottom </button>
	-->
	<table class="table table-bordered" ng-show="entries.length">	
		<tr>
			<th>Price</th>
			<th>Comments</th>
			<th>Category</th>
			<th>User</th>
			<th>DateTime</th>	
		</tr>	
		<tr ng-repeat="x in entries">
			<td style="text-align:right;padding-right:25px">${{x.price | number:2}}</td>
			<td>{{x.comments }}</td>
			<td>{{x.category_name }}</td>
			<td>{{x.username}}</td>
			<td>{{x.date_time | date:'medium'}}</td>	
		</tr>
	</table>
	<button ng-click="refreshBudgetEntries()">Refresh User Entries</button>
	<br>
	<!--
	<h3>Stats</h3>

	<table id="stats_table" class="table">
		<tr>
			<th>Total Spent</th>
			<th>Avg Purchase</th>
			<th>Avg Per Day </th>
		</tr>
		<tr>
			<td><span id="currency-default">{{stats.total | currency}}</span><br></td>
			<td><span id="currency-default">{{stats.avg_purchase| currency}}</span><br></td>
			<td><span id="currency-default">{{stats.avg_per_day| currency}}</span><br></td>
		</tr>
	</table>
		<button ng-click="calculateStats()">Re-Calculate</button>
	<h3>Insert New Entry</h3>
	-->
	<!-- *******************************************************************-->

	
	<form ng-submit="insertNewEntry()">	
	
	<table class="table table-bordered hidden-md hidden-lg" style="table-layout:fixed;width:100%;">	
		<col width="20%"/>
		<col width="50%"/>
		<col width="30%"/>		
		<tr>
			<th>Price</th>
			<th>Comments</th>
			<th>Category</th>
		</tr>	
		<tr>	
			<td><input type="number" name="price" ng-model="entry.price" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01" min="0" max="9999.99"></td>
			<td><input type="text" name="comments" ng-model="entry.comments"></td>
			<td>   
			 <select ng-model="entry.category" ng-options="i as i.category_name for i in categories" ></select>
			</td>
		</tr>
	</table>
	<table class="table table-bordered table-responsive hidden-sm hidden-xs" id="mobile_insert_entry_table">	
		<tr>
			<th>Price</th>
			<th>Comments</th>
			<th>Category</th>
			<th>User</th>
		</tr>	
		<tr>	
			<td><input type="number" name="price" ng-model="entry.price" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01" min="0" max="9999.99"></td>
			<td><input type="text" name="comments" ng-model="entry.comments"></td>
			<td>   
			<select ng-model="entry.category" ng-options="i as i.category_name for i in categories" ></select>
			</td>
			<td>{{ returnUser() }}</td>
		</tr>
	</table>	
		<div class="span6" style="padding-bottom:4px";>	
		<button type="submit">Insert New Entry</button>
		<button type="reset" value="Reset">Clear Fields</button>
	</div>	
	</form>	

	<!-- *******************************************************************-->
	
<div ng-show="AlertMessage.active" class="fadein fadeout">

    <div ng-repeat="(key,val) in alerts" class="alert {{key}}">

        <div ng-repeat="msg in val track by $index">				

			{{msg}}			

		</div>   

	</div>
</div>
</div>

</div>